<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AGROFARM - Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js" defer></script>
</head>
<body class="bg-gray-100" data-theme="light">
<div class="flex h-screen">
    <!-- Sidebar -->
    <aside id="sidebar" class="w-64 bg-green-800 text-white flex-shrink-0 hidden md:block">
        <div class="p-4 text-2xl font-bold">AGROFARM</div>
        <nav class="space-y-2 p-4">
            <button class="w-full text-left hover:bg-green-700 p-2 rounded" data-section="dashboard">Dashboard</button>
            <button class="w-full text-left hover:bg-green-700 p-2 rounded" data-section="pigs">Cerdos</button>
            <button class="w-full text-left hover:bg-green-700 p-2 rounded" data-section="reproduction">Reproducción</button>
            <button class="w-full text-left hover:bg-green-700 p-2 rounded" data-section="health">Sanidad</button>
            <button class="w-full text-left hover:bg-green-700 p-2 rounded" data-section="production">Producción</button>
            <button class="w-full text-left hover:bg-green-700 p-2 rounded" data-section="nutrition">Nutrición</button>
            <button class="w-full text-left hover:bg-green-700 p-2 rounded" data-section="users">Usuarios</button>
            <button class="w-full text-left hover:bg-green-700 p-2 rounded" data-section="reports">Reportes</button>
        </nav>
    </aside>
    <!-- Main Content -->
    <div class="flex-1 overflow-y-auto">
        <header class="flex justify-between items-center bg-white shadow p-4">
            <div class="flex items-center space-x-4">
                <button id="menuToggle" class="md:hidden text-gray-600"><i class="fa-solid fa-bars"></i></button>
                <div>
                    <h2 id="sectionTitle" class="text-xl font-bold">Dashboard</h2>
                    <p id="breadcrumb" class="text-sm text-gray-500">Estás en: Dashboard</p>
                </div>
            </div>
            <div class="space-x-4 flex items-center">
                <button id="themeToggle" class="text-gray-600"><i class="fa-solid fa-moon"></i></button>
                <button id="logout" class="text-red-600">Salir</button>
            </div>
        </header>
        <main class="p-4 space-y-6">
            <!-- Dashboard Section -->
            <section id="dashboardSection">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <div class="bg-white p-4 rounded shadow text-center">
                        <div class="text-2xl font-bold" id="pigCount">0</div>
                        <div class="text-gray-500">Cerdos</div>
                    </div>
                    <div class="bg-white p-4 rounded shadow text-center">
                        <div class="text-2xl font-bold" id="birthCount">0</div>
                        <div class="text-gray-500">Nacimientos</div>
                    </div>
                    <div class="bg-white p-4 rounded shadow text-center">
                        <div class="text-2xl font-bold" id="alertsCount">0</div>
                        <div class="text-gray-500">Alertas</div>
                    </div>
                    <div class="bg-white p-4 rounded shadow text-center">
                        <div class="text-2xl font-bold" id="feedCount">0</div>
                        <div class="text-gray-500">Alimentos</div>
                    </div>
                </div>
            </section>
            <!-- Pigs Section -->
            <section id="pigsSection" class="hidden">
                <h3 class="text-lg font-bold mb-2">Registrar Cerdo</h3>
                <form id="pigForm" class="space-y-2 mb-4">
                    <input id="pigName" type="text" placeholder="Nombre" class="w-full border rounded p-2" required>
                    <select id="pigStage" class="w-full border rounded p-2" required>
                        <option value="Lechón">Lechón</option>
                        <option value="Gestante">Gestante</option>
                        <option value="Ceba">Ceba</option>
                    </select>
                    <button type="submit" class="bg-green-700 text-white py-1 px-4 rounded">Guardar</button>
                </form>
                <h3 class="text-lg font-bold mb-2">Lista de Cerdos</h3>
                <input id="searchPig" type="text" placeholder="Buscar" class="border rounded p-2 mb-2 w-full md:w-1/3" />
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white rounded shadow" id="pigTable">
                        <thead class="bg-green-800 text-white">
                            <tr>
                                <th class="p-2">Nombre</th>
                                <th class="p-2">Etapa</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </section>
            <!-- Additional sections (Reproduction, Health, Production, Nutrition, Users, Reports) -->
            <section id="reproductionSection" class="hidden">
                <h3 class="text-lg font-bold mb-2">Registro de Reproducción</h3>
                <form id="reproductionForm" class="space-y-2 mb-4">
                    <input id="repDate" type="date" class="w-full border rounded p-2" required>
                    <input id="repDetails" type="text" placeholder="Detalles" class="w-full border rounded p-2" required>
                    <button type="submit" class="bg-green-700 text-white py-1 px-4 rounded">Guardar</button>
                </form>
                <ul id="reproductionList" class="list-disc pl-5"></ul>
            </section>
            <section id="healthSection" class="hidden">
                <h3 class="text-lg font-bold mb-2">Registro Sanitario</h3>
                <form id="healthForm" class="space-y-2 mb-4">
                    <input id="vaccine" type="text" placeholder="Vacuna" class="w-full border rounded p-2" required>
                    <button type="submit" class="bg-green-700 text-white py-1 px-4 rounded">Registrar</button>
                </form>
                <ul id="healthList" class="list-disc pl-5"></ul>
            </section>
            <section id="productionSection" class="hidden">
                <h3 class="text-lg font-bold mb-2">Seguimiento de Producción</h3>
                <canvas id="productionChart" class="bg-white p-4 rounded shadow mb-4"></canvas>
                <div class="space-x-2">
                    <button id="exportPdf" class="bg-green-700 text-white px-3 py-1 rounded">PDF</button>
                    <button id="exportXls" class="bg-green-700 text-white px-3 py-1 rounded">Excel</button>
                </div>
            </section>
            <section id="nutritionSection" class="hidden">
                <h3 class="text-lg font-bold mb-2">Nutrición</h3>
                <form id="foodForm" class="space-y-2 mb-4">
                    <input id="foodName" type="text" placeholder="Alimento" class="w-full border rounded p-2" required>
                    <button type="submit" class="bg-green-700 text-white py-1 px-4 rounded">Agregar</button>
                </form>
                <ul id="foodList" class="list-disc pl-5"></ul>
            </section>
            <section id="usersSection" class="hidden">
                <h3 class="text-lg font-bold mb-2">Usuarios</h3>
                <p>Roles disponibles: Administrador, Veterinario, Operario.</p>
            </section>
            <section id="reportsSection" class="hidden">
                <h3 class="text-lg font-bold mb-2">Reportes</h3>
                <p>Aquí se mostrarán tablas y se podrá exportar a PDF o Excel.</p>
            </section>
        </main>
        <footer class="bg-white shadow p-4 text-center text-sm">
            &copy; 2024 AGROFARM - <a href="#" class="text-green-700">Contacto</a> | <a href="#" class="text-green-700">Privacidad</a>
        </footer>
    </div>
</div>
<script type="module" src="scripts/dashboard.js"></script>
</body>
</html>
